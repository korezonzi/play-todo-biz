@*implicit: CSRFヘルパー使用のために必要*@
@(users: Seq[models.Users])(implicit request: RequestHeader)

@import helper._

@*main.scala.htmlを呼び出す*@
@main("ユーザ一覧") {
  <div>
    <a href="@routes.UserController.edit()" class="btn btn-success" role="button">
      新規作成
    </a>
  </div>
  <div class="col-6">
    <table class="table table-hover">
      <thead>
        <tr>
          <th>ID</th>
          <th>名前</th>
          <th>&nbsp;</th>
        </tr>
      </thead>
      <tbody>
        @users.map { user =>
          <tr>
            <td>@user.id</td>
            <td>
              <a href="@routes.UserController.edit(Some(user.id))">@user.name</a>
            </td>
            <td>
              @*CSRFを指定するだけで自動的にトークンを使用したCSRF機能を利用できる*@
              @helper.form(CSRF(routes.UserController.remove(user.id))){
                <input type="submit" value="削除" class="btn btn-danger btn-sm" />
              }
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
}